<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Refactoring - Composing Methods &middot; grit| commit
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0c">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          <span style="color: #FF6347; font: Verdana">grit| commit</span>
        </a>
      </h1>
      <p class="lead">daily learnings as a ruby dev</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

    <p>&copy; 2015. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Refactoring - Composing Methods</h1>
  <span class="post-date">20 Jun 2015</span>
  <h3>Extract Method</h3>

<p>is moving duplicate code into a method. Create a new method, and name it after the intention of the method (name it by what it does, not by how it does it). </p>

<h3>Inline Method</h3>

<p>is replacing the caller of the method with the body of the method</p>

<h3>Inline Temp</h3>

<p>Find all references to the temp and replace them with the right-hand side of the assignment. </p>

<h3>Replace Temp with Query</h3>

<p>Find all references to the temp and replace them with the right-hand side of the assignment. </p>

<h3>Replace Temp with Chain</h3>

<p>removes unneeded creations of temp (variable assignments for method calling expressions) and chain with the right side of the expression, most likely using .self</p>

<h4>Introduce Explaining Variable</h4>

<p>You have a complicated expression, Put the result of the expression, or parts of the expression, in a temporary variable with a name that explains the purpose.</p>

<h3>Split Temporary Variable</h3>

<p>You have a temporary variable assigned to more than once, but it is not a loop variable nor a collecting temporary variable.
Make a separate temporary variable for each assignment.</p>

<h3>Remove Assignments to Parameters: The code assigns to a parameter. Use a temporary variable instead.</h3>

<h3>Replace Method with Method Object</h3>

<p>You have a long method that uses local variables in such a way that you cannot apply Extract Method. Create a new class, name it after the method. </p>

<h3>Extract Surrounding Methods</h3>

<p>Step 1: Use Extract Method on one piece of duplication. Name it after the duplicated behavior.
This will become our surrounding method.
For now the surrounding method will still perform the unique behavior.</p>

<p>Step 2:  Modify the calling method to pass a block to the surrounding method. Copy the unique logic from the surrounding method into the block. </p>

<p>Step 3:  Replace the unique logic in the extracted method with the yield keyword. </p>

<p>Step 4:  Identify any variables in the surrounding method that are needed by the unique logic and pass them as parameters in the call to yield. </p>

<h3>Introduce the Named Parameter</h3>

<p>The parameters in a method call cannot easily be deduced from the name of the method you are calling. Convert the parameter list into a Hash, and use the keys of the Hash as names for the parameters.</p>

<h3>Dynamic Method Definition</h3>

<h4>Example: Using def_each to Define Similar Methods</h4>

<p>Defining several similar methods is verbose and often unnecessary. For example, each of the following methods is simply calling the state method.</p>

<h3>Isolate Dynamic Receptor</h3>

<p>A class utilizing method<em>missing has become painful to alter.
Introduce a new class and move the method</em>missing logic to that class.</p>

<h3>Move Eval from Runtime to Parse Time</h3>

<p>You need to use eval but want to limit the number of times eval is necessary. Move the use of eval from within the method definition to defining the method
itself.</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2015/06/30/Metz-5-Rules/">
            Sandi Metz - The Rules
            <small>30 Jun 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2015/06/26/Refactoring-Generalization/">
            Refactoring - Dealing wihth Generalization
            <small>26 Jun 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2015/06/25/Refactoring-conditionals/">
            Refactoring - Simplifying Conditional Expressions
            <small>25 Jun 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>

  </body>
</html>
