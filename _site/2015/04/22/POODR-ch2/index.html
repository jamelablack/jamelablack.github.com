<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      POODR - Ch2: Designing Classes with a Single Responsibility &middot; grit| commit
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0c">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          <span style="color: #FF6347; font: Verdana">grit| commit</span>
        </a>
      </h1>
      <p class="lead">daily learnings as a ruby dev</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

    <p>&copy; 2015. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">POODR - Ch2: Designing Classes with a Single Responsibility</h1>
  <span class="post-date">22 Apr 2015</span>
  <p>The foundation of an object-orietned is the message, but most visible organizational structure is the class.</p>

<h3>OO Questions:</h3>

<p>What are your classes?
How many should you have?
What behavior will they implement?
How much do they know about the other classes?
How much of themselves should the expose?</p>

<p>At this stage, your first obligation is to take a deep breath and insist that it be simple. Your goal is to model your application, using classes, such that is does what is is supposed to do right now. Design is more the art of perserving changability than it is the act of achieving perfection.</p>

<h3>Code should be TRUE:</h3>

<p>Transparent: The consquences of change should be obvious in the code that is changing and in distant code thst relies on it.</p>

<p>Reasonsable: The cost of any change should be proportional to the benefit thr change acheives</p>

<p>Usable: Existing code should be usable in a new and unexpected contents.</p>

<p>Expemplary: The cod itself should encourage those who change it to perpetuate these qualities.
TRUE ensures that each class has a single, well-defined responsibilty.</p>

<h2>Creating Classes That have a Single Responsibility</h2>

<p>A class should do the smallest posbbile useful thing, that is - it should have a sing responsibility.</p>

<h3>Why Single Responsibility Matters</h3>

<p>Appliciations that are easy to change consist of classes that are easy to reuse. Reusable classes are pluggable into units of well-defined behavior that have few entanglements.</p>

<p>A class that has more than one responsibility is difficult to reuse. If you want to resuse some (but not all) of it behavior, it is impossible to get only the parts you need.</p>

<p>If the responsibilties are so coupled that you cannot use just the beviour you need, you could duplicat the code of interest.</p>

<h3>Deterimining If a Class Has Single Responsibility</h3>

<p>How can you determine if a class contains the behavior or belongs somewhere else?
Ask it! &quot;Mr Gear, What is your ratio?&quot;</p>

<p>Another way to figure it out is to attempt to describe the class in one sentence. If the simplest description you can devise includes &quot;and&quot;, the class likely has more than one responsibility. If the description includes &quot;or&quot;, then the class has more than one responsibility and they aren&#39;t even related.</p>

<p>When a class is related to it&#39;s purpose, its considered &quot;highly cohesive&quot; or to have single responsibility (Single Responsibility Principle)</p>

<h3>Determining when to make design decisions:</h3>

<p>Don&#39;t feel compelled to make design decisions prematurely. When the future cost of doing nothing is the same as the current cost, postpone the decision. Make the decision only when you must with the information you have at the time.</p>

<h2>Writing Code that Embraces Change</h2>

<p>Here are a few well known techniques that you can use to create code that embaces change:</p>

<h3>1. Depend on Behavior, not Data</h3>

<p>Behavior is captured in methods anid invoked by sending messages. In addition to behavior, objects often contain data. Data is held in an instance variable and can be anything from an simple string to complex hash. Data can be accessed in 2 ways: 1. you can refer directly to the instance variable
2. you can wrap the intance variable in an accessor method</p>

<h4>Hide Data Structures</h4>

<h4>1. Always wrap instance variables in accessor methods insteadof directly referring to the variables</h4>

<h5>2. Use Structs</h5>

<p>Direct references into complicated structure are confusing, because they obscure what the data really is and the maintenance is a nightmare.
In Ruby, it&#39;s easy to seperate structure from meaning - just as you use a method to wrap an instance variable, you can use a Ruby Struct class to wrap a structure.
Ruby defines Struct as &quot;a convenient way to bundle a number of attributes together, using accessor methods, without having to write an explicit class.</p>

<h2>2. Enforce Single Responsibilities Everywhere</h2>

<h4>3. Extract Extra Responsibilities from Methods</h4>

<p>Methods, like classes should have single responsibility so they are easier to use. Apply the same design techniques as you would with classes.</p>

<ul>
<li>Seperating iteration from the action that&#39;s being performed on each element is a common case of multiple responsibitlity that is easy to recognize.</li>
</ul>

<p>The imapct of the single refactoring like ithis is small, but the cumulative effect of this coding style is huge. Methods that have single resonsibility confer the following benefits:</p>

<h5>1. Expose previously hidden qualities</h5>

<h5>2. Avoid the need for comments</h5>

<h5>3. Encourage reuse</h5>

<h5>4. Easy to move to another class</h5>

<h3>Isolate Extra Responsibilities in Classes</h3>

<p>Once every method has a single responsibility, the scope of your class will be more apparent</p>

<p>The path to changeable and maintable object oriented software begins with classes that have a single responsibility. Classes that do one thing isolate that thing from the rest of your application. This isolation allows change without consquence and reuse without duplication.</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2015/06/30/Metz-5-Rules/">
            Sandi Metz - The Rules
            <small>30 Jun 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2015/06/26/Refactoring-Generalization/">
            Refactoring - Dealing wihth Generalization
            <small>26 Jun 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2015/06/25/Refactoring-conditionals/">
            Refactoring - Simplifying Conditional Expressions
            <small>25 Jun 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>

  </body>
</html>
