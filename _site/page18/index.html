<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      grit| commit &middot; A coding blog by Jam
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0c">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          <span style="color: #FF6347; font: Verdana">grit| commit</span>
        </a>
      </h1>
      <p class="lead">daily learnings as a ruby dev</p>
    </div>



    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href=""></a>

            <a class="sidebar-nav-item" href="/about/">About</a>

          
        
      
        
          
            <a class="sidebar-nav-item" href=""></a>

            <a class="sidebar-nav-item" href="/archive/">Archive</a>

          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

    <p>&copy; 2015. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/10/05/course2-lesson2/">
        Rapid Prototyping with Rails: Lesson 2, part 1
      </a>
    </h1>

    <span class="post-date">05 Oct 2014</span>

    <p>Items covered:
1. Rails Forms
2. Strong Parameters</p>

<h2>Rails Forms</h2>

<p>There are 3 ways to create a form
  1. Pure HTML
  2. Rails Forms Helpers
  3. Rails model-backed Forms Helpers</p>

<ol>
<li>PURE HTML</li>
</ol>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">h5</span><span class="o">&gt;</span> <span class="no">Pure</span> <span class="no">HTML</span> <span class="no">Form</span> <span class="o">&lt;</span><span class="sr">/h5&gt;</span>
<span class="sr">  &lt;form action=&#39;/</span><span class="n">posts</span><span class="s1">&#39; method=&#39;</span><span class="no">POST</span><span class="s1">&#39;&gt;</span>
<span class="s1">    Title &lt;input type=&#39;</span><span class="n">text</span><span class="s1">&#39; name=&#39;</span><span class="n">my_title</span><span class="s1">&#39;&gt;</span>

<span class="s1">    &lt;br/&gt;</span>

<span class="s1">    &lt;input type=&#39;</span><span class="n">submit</span><span class="s1">&#39; class=&#39;</span><span class="n">btn</span> <span class="n">btn</span><span class="o">-</span><span class="n">primary</span><span class="err">&#39;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="sr">/form&gt;</span></code></pre></div>

<p><em>Rails has something called CSFP - cross site forgery protection built into it.
It tries to prevent fake forms from submitting to your website.. without token.</em>
This can be disabled in your application_controller.rb</p>

<p>In the above section, where it says</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Title</span> <span class="o">&lt;</span><span class="n">input</span> <span class="n">type</span><span class="o">=</span><span class="s1">&#39;text name=&#39;</span><span class="n">my_title</span><span class="err">&#39;</span><span class="o">&gt;</span></code></pre></div>

<p>Giving the title attribute a name called &quot;my_title&quot; gives you the ability refer to it as a hash. So params typed into pry would give you:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="p">{</span><span class="s2">&quot;my_title&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;some title&quot;</span><span class="p">}</span></code></pre></div>

<p>or</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">params</span><span class="o">[</span><span class="ss">:my_title</span><span class="o">]</span> <span class="n">would</span> <span class="n">give</span> <span class="n">you</span> <span class="s2">&quot;some title&quot;</span> <span class="n">returned</span></code></pre></div>

<p>*Hash with indifferent access - means although the key is a string, I can refer to it as a :symbol&quot;
So therefore, in your console, you could type:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Post</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">title</span><span class="p">:</span> <span class="n">params</span><span class="o">[</span><span class="ss">:my_title</span><span class="o">]</span><span class="p">)</span> <span class="o">**</span><span class="no">This</span> <span class="n">is</span> <span class="n">called</span> <span class="n">mass</span> <span class="n">assignment</span><span class="o">**</span></code></pre></div>

<ol>
<li>RAILS FORMS HELPERS
When creating pure html forms, use form helpers.</li>
</ol>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">h4</span><span class="o">&gt;</span> <span class="no">Rails</span> <span class="no">Forms</span> <span class="no">Helpers</span> <span class="o">&lt;</span><span class="sr">/h4&gt;</span>
<span class="sr">&lt;%= form_tag &#39;/</span><span class="n">posts</span><span class="s1">&#39; do %&gt;</span>
<span class="s1">  &lt;%= label_tag :title, &quot;Input a title&quot; %&gt;</span>
<span class="s1">  &lt;%= text_field_tag :title %&gt;</span>
<span class="s1">  &lt;br/&gt;</span>
<span class="s1">  &lt;%= submit_tag &quot;Create Post&quot;, class: &#39;</span><span class="n">btn</span> <span class="n">btn</span><span class="o">-</span><span class="n">primary</span><span class="err">&#39;</span> <span class="sx">%&gt;</span>
<span class="sx">&lt;% end %&gt;</span></code></pre></div>

<h2>Form helpers, do several things:</h2>

<ol>
<li>Automatically determines the method=&#39;POST&#39;
B/c it is a form</li>
<li>Security
Provides an UTF 8 &amp; authenticity token in a hidden div that helps allows us to submit under cross site forgery protection</li>
<li><p>Using the label_tag (helper)
Gives more guidance to the blind. Label elements correalate with input elements and is read
by screenreaders for the hearing impaired. <Where is says "Input a title"></p>

<ol>
<li>RAILS MODEL-BACKED FORMS</li>
</ol></li>
</ol>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">h4</span><span class="o">&gt;</span> <span class="no">Rails</span> <span class="n">model</span><span class="o">-</span><span class="n">backed</span> <span class="n">form</span> <span class="n">helpers</span> <span class="o">&lt;</span><span class="sr">/h4&gt;</span>
<span class="sr">  &lt;%= form_for @post do |f| %&gt;</span>
<span class="sr">  &lt;%= f.label :title %&gt;</span>
<span class="sr">  &lt;%= f.text_field :title %&gt;</span>

<span class="sr">  &lt;%= f.label :url %&gt;</span>
<span class="sr">  &lt;% f.text_field :title %&gt;</span>
<span class="sr">  &lt;br/</span><span class="o">&gt;</span>
  <span class="o">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">submit</span> <span class="s2">&quot;Create Post&quot;</span><span class="p">,</span> <span class="ss">class</span><span class="p">:</span> <span class="s1">&#39;btn btn-primary&#39;</span> <span class="sx">%&gt;</span>
<span class="sx">&lt;% end %&gt;</span></code></pre></div>

<p>You can mix and match forms and tags (from 2 and 3), if needed.</p>

<h3>What is happening here:</h3>

<p>The form_for is taking an object (@post). We must define @post in our controller:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">new</span>
      <span class="vi">@post</span> <span class="o">=</span> <span class="no">Post</span><span class="o">.</span><span class="n">new</span>
    <span class="k">end</span></code></pre></div>

<h3>This gives us a few liberties:</h3>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Post</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:post</span><span class="o">]</span><span class="p">)</span> <span class="ow">or</span> <span class="no">Post</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:post</span><span class="o">]</span><span class="p">)</span> <span class="n">is</span> <span class="n">effectively</span> <span class="n">doing</span> <span class="n">mass</span> <span class="n">assignment</span><span class="p">,</span>
<span class="n">using</span> <span class="n">the</span> <span class="nb">hash</span> <span class="n">assigned</span> <span class="n">to</span> <span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:post</span><span class="o">]</span><span class="p">)</span></code></pre></div>

<h2>Associations</h2>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">has_many</span> <span class="ss">:comments</span>
<span class="n">has_many</span> <span class="ss">:posts</span></code></pre></div>

<p>These become getters and setter bc they are virtual attributes as opposed to the
actual column names which are actual attributes</p>

<p>When you have a model-backed form, you must use fields that are virtual or actual attributes
because your input will attempt roll up and mass assign. This will not work if the actual
attribute does not exist.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:whatever</span> <span class="p">(</span><span class="n">yes</span><span class="p">)</span>
  <span class="n">f</span><span class="o">.</span><span class="n">text_field</span> <span class="ss">:whatever</span> <span class="p">(</span><span class="n">no</span><span class="p">)</span></code></pre></div>

<p>However, the above can be accomplished with Rails Forms Helpers (#2) or Pure HTML,
you can do what you want and just parse it out on the back-end.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">URL</span>
      <span class="nb">name</span> <span class="o">=</span> <span class="p">(</span><span class="n">post</span><span class="o">[</span><span class="ss">:url</span><span class="o">]</span><span class="p">)</span> <span class="n">is</span> <span class="n">how</span> <span class="n">rails</span> <span class="n">magic</span><span class="p">,</span> <span class="n">mass</span> <span class="n">assignment</span> <span class="n">occurs</span>
      <span class="no">In</span> <span class="n">console</span> <span class="ow">or</span> <span class="n">during</span> <span class="nb">binding</span><span class="o">.</span><span class="n">pry</span><span class="p">,</span> <span class="n">typing</span> <span class="n">params</span> <span class="n">will</span> <span class="n">list</span>
      <span class="no">UTf8</span>
      <span class="no">Authenticity</span> <span class="no">Token</span>
      <span class="no">Post</span> <span class="n">attributes</span> <span class="k">in</span> <span class="nb">hash</span> <span class="n">form</span>
      <span class="no">Commit</span>
      <span class="no">Action</span>
      <span class="no">Controller</span></code></pre></div>

<p>Typing params[:post] is the same as post.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Strong</span> <span class="no">Parameters</span>
<span class="k">def</span> <span class="nf">create</span>
  <span class="n">post</span> <span class="o">=</span> <span class="no">Post</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:post</span><span class="o">]</span><span class="p">)</span>
<span class="k">end</span></code></pre></div>

<p>Will through an error in Rails 4 bc you don&#39;t have strong_parameters.
They realized that the concern regarding strong parameters and security really
didn&#39;t occur at the model layer but rather in the action based on user access,
roles, etc.</p>

<p>So no-longer a white list of attributes available for mass<em>assignment,
attr</em>accessible :name :sex :location</p>

<p>So the Rails 4 version is:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">create</span>
  <span class="vi">@post</span> <span class="o">=</span> <span class="no">Post</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">post_params</span><span class="p">)</span>
<span class="k">end</span>

<span class="kp">private</span>
<span class="k">def</span> <span class="nf">post_params</span> <span class="c1">#because we want to reuse this, so lets create a post_params method</span>
  <span class="n">params</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="ss">:post</span><span class="p">)</span><span class="o">.</span><span class="n">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:url</span><span class="p">)</span>
<span class="k">end</span></code></pre></div>

<p>OR you can assign strong parameters based roles</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">post_params</span>
  <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">admin?</span>
    <span class="n">params</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="ss">:post</span><span class="p">)</span><span class="o">.</span><span class="n">permit!</span> <span class="c1">#permit everything</span>

  <span class="k">else</span>
    <span class="n">params</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="ss">:post</span><span class="p">)</span><span class="o">.</span><span class="n">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:url</span><span class="p">)</span> <span class="c1">#only permit title and url</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p>If in the future, you add other input fields but do not update your strong params, it will just wipe away
your entry attempt, it will not throw an error as to let hackers know what ways to pass the security restriction</p>

<p>So Rails 3 is attr<em>accessible :title (whitelist) and Rails 4 is strong</em>params in controller action.</p>

<p>Now that you have understood post params, next memorize the following:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">create</span>

  <span class="vi">@post</span> <span class="o">=</span> <span class="no">Post</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">post_params</span><span class="p">)</span>

  <span class="k">if</span> <span class="vi">@post</span><span class="o">.</span><span class="n">save</span>
    <span class="n">flash</span><span class="o">[</span><span class="ss">:notice</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;Your post was created.&quot;</span>
    <span class="n">redirect_to</span> <span class="n">posts_path</span>
  <span class="k">else</span>
    <span class="n">render</span> <span class="s1">&#39;new&#39;</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/10/01/course2-lesson1/">
        Rapid Prototyping with Rails: Lesson 1
      </a>
    </h1>

    <span class="post-date">01 Oct 2014</span>

    <h1>Items covered:</h1>

<ol>
<li>Bundle Install/Bundle Exec</li>
<li>Creating your Rails App</li>
<li>Folder Directory</li>
<li>Rake Routes</li>
<li>Relational Databases</li>
</ol>

<h2>Bundle Install</h2>

<p>Before you couldn&#39;t have multiple versions of gems installed on your machine when
switching b/w projects.</p>

<p>Bundler creates a sandbox in your application where the proper versions of your gems
are stored.</p>

<h3>Bundle exec</h3>

<p>does the samething and is used when your system level rake (rake db:migrate) for example
is not compatible with the current settings.
Therefore you have to use bundle exec rake db:migrate or just bundle exec.</p>

<p>Heroku also uses Bundler.</p>

<h2>Creating your app:</h2>

<p>Files you should always look at:</p>

<h3>1. database.yml</h3>

<p>Tells the application how to connect to the database
*In development - we use sqlite3
*In production - we use postgres (although in this course Heroku takes care it for us)</p>

<p>For sqlite - your database is in your code base and its one file, unlike others
where is an application and usually your database is hosted somewhere:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">production</span>
        <span class="ss">adapter</span><span class="p">:</span> <span class="n">mysql</span>
        <span class="ss">database</span><span class="p">:</span> <span class="n">myapp_development</span>
        <span class="ss">host</span><span class="p">:</span> <span class="n">localhost</span>
        <span class="ss">username</span><span class="p">:</span>
        <span class="ss">password</span><span class="p">:</span></code></pre></div>

<p>You will want to mimick your local enviornment as much as possible to your production
enviornment in order to catch bugs</p>

<h2>2. Gemfile</h2>

<h3>3. Routes File</h3>

<p>How the request initally get&#39;s routed. The blueprint of your application ad its
capabilities.</p>

<h2>Folder Directory</h2>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">app</span> <span class="o">-</span> <span class="n">where</span> <span class="n">you</span> <span class="n">spend</span> <span class="n">most</span> <span class="n">time</span>
  <span class="n">assets</span> <span class="o">-</span> <span class="n">where</span> <span class="n">you</span> <span class="n">put</span> <span class="n">all</span> <span class="n">static</span> <span class="n">files</span><span class="p">,</span> <span class="n">images</span><span class="p">,</span> <span class="n">etc</span><span class="o">.</span>
  <span class="n">controllers</span>
  <span class="n">mailers</span> <span class="o">-</span> <span class="n">outbound</span> <span class="n">mail</span><span class="o">.</span> <span class="no">Not</span> <span class="n">good</span> <span class="n">to</span> <span class="n">use</span> <span class="n">because</span> <span class="n">you</span> <span class="n">can</span> <span class="n">easily</span> <span class="n">get</span> <span class="n">flagged</span> <span class="n">as</span> <span class="n">spam</span>
   <span class="p">(</span><span class="n">use</span> <span class="n">a</span> <span class="n">transactional</span> <span class="n">email</span> <span class="n">provider</span> <span class="p">(</span><span class="n">stmp</span> <span class="n">mailers</span><span class="p">)</span> <span class="n">hosts</span> <span class="n">such</span> <span class="n">as</span> <span class="n">mailgun</span><span class="p">,</span> <span class="n">postmark</span><span class="p">,</span> <span class="n">etc</span><span class="o">.</span> <span class="p">)</span>
   <span class="n">models</span>
   <span class="n">views</span> <span class="o">-</span> <span class="n">where</span> <span class="n">our</span> <span class="n">erb</span> <span class="n">goes</span>
<span class="n">bin</span> <span class="o">-</span> <span class="n">where</span> <span class="n">your</span> <span class="n">executable</span> <span class="n">code</span> <span class="n">goes</span> <span class="o">-</span> <span class="n">we</span> <span class="n">never</span> <span class="n">touch</span> <span class="n">this</span>
<span class="n">application</span><span class="o">.</span><span class="n">rb</span> <span class="o">-</span> <span class="n">sets</span> <span class="n">application</span> <span class="n">defaults</span> <span class="n">such</span> <span class="n">as</span> <span class="n">timezone</span><span class="p">,</span> <span class="nb">load</span> <span class="n">path</span>
<span class="n">enviornment</span> <span class="n">folder</span> <span class="o">-</span> <span class="n">configurations</span> <span class="k">for</span> <span class="n">development</span> <span class="ow">and</span> <span class="n">production</span><span class="p">,</span> <span class="ow">and</span> <span class="n">testing</span><span class="o">.</span>
                  <span class="o">-</span> <span class="n">you</span> <span class="n">can</span> <span class="n">also</span> <span class="n">create</span> <span class="n">custom</span> <span class="n">enviornments</span> <span class="o">-</span> <span class="n">such</span> <span class="no">QA</span><span class="p">,</span> <span class="n">intergration</span> <span class="ow">or</span> <span class="n">staging</span>
<span class="n">initializers</span> <span class="n">folder</span> <span class="o">-</span> <span class="n">where</span> <span class="n">you</span> <span class="n">files</span> <span class="n">that</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="nb">load</span> <span class="k">when</span> <span class="n">your</span> <span class="n">application</span>
                    <span class="n">is</span> <span class="n">initialized</span>
<span class="no">Config</span> <span class="n">folder</span>
  <span class="n">locales</span> <span class="o">-</span> <span class="n">yml</span> <span class="n">files</span> <span class="o">-</span> <span class="n">is</span> <span class="n">a</span> <span class="n">way</span> <span class="n">to</span> <span class="n">internationalize</span> <span class="n">your</span> <span class="n">app</span><span class="o">.</span> <span class="no">Is</span> <span class="n">comprised</span> <span class="n">of</span> <span class="n">comlicated</span> <span class="n">hashes</span>
        <span class="ow">and</span> <span class="n">you</span> <span class="n">no</span> <span class="n">longer</span> <span class="n">write</span> <span class="n">using</span> <span class="n">strings</span><span class="o">.</span> <span class="no">Extremely</span> <span class="n">painful</span> <span class="n">to</span> <span class="n">manage</span> <span class="n">files</span>
<span class="no">Lib</span> <span class="o">-</span> <span class="n">you</span> <span class="n">can</span> <span class="n">also</span> <span class="n">put</span> <span class="n">assets</span> <span class="k">in</span> <span class="n">there</span>
<span class="no">Tasks</span> <span class="o">-</span> <span class="n">you</span> <span class="n">can</span> <span class="n">place</span> <span class="n">rake</span> <span class="n">tasks</span> <span class="k">in</span> <span class="n">here</span>
<span class="n">log</span> <span class="o">-</span> <span class="n">stores</span> <span class="n">all</span> <span class="n">terminal</span> <span class="n">logs</span> <span class="n">from</span> <span class="n">your</span> <span class="n">application</span>
<span class="kp">public</span> <span class="o">-</span> <span class="n">where</span> <span class="n">you</span> <span class="n">store</span> <span class="n">your</span> <span class="n">error</span> <span class="n">pages</span>
      <span class="o">-</span> <span class="n">robosts</span> <span class="o">-</span> <span class="n">tell</span> <span class="n">search</span> <span class="n">engines</span> <span class="n">where</span> <span class="n">to</span> <span class="n">go</span> <span class="n">within</span> <span class="n">your</span> <span class="n">application</span>
<span class="no">Vendor</span> <span class="o">-</span> <span class="n">a</span> <span class="n">relic</span> <span class="n">from</span> <span class="n">the</span> <span class="n">past</span>
<span class="o">.</span><span class="n">gitignore</span> <span class="o">-</span> <span class="n">tells</span> <span class="n">git</span> <span class="n">what</span> <span class="n">files</span> <span class="n">to</span> <span class="n">ignore</span> <span class="k">when</span> <span class="n">committing</span><span class="o">.</span> <span class="p">(</span><span class="o">.</span><span class="n">files</span> <span class="n">are</span> <span class="n">hidden</span> <span class="n">files</span><span class="p">)</span>
<span class="no">Readme</span> <span class="o">-</span> <span class="n">is</span> <span class="n">what</span> <span class="n">is</span> <span class="n">dispayed</span> <span class="k">when</span> <span class="n">you</span> <span class="n">push</span> <span class="n">your</span> <span class="n">app</span> <span class="n">to</span> <span class="no">Github</span><span class="o">.</span></code></pre></div>

<h2>Rake Routes</h2>

<p>shows all possible endpoints in your application
You can also view your routes in your browser by going to localhost:3000/rails/info/routes
in Rails 4 only or you can use the terminal: rake routes | grep _______</p>

<h2>Relational Databases:</h2>

<p>A series of spreadsheets.</p>

<p>To connect these tables in order to link infromation:
1. primary<em>key in rails is the &quot;id&quot;
2. foreign</em>key is the creation of a &quot;user<em>id&quot; column with the primary</em>key in on
other tables to connect to the main table.</p>

<h3>There are 2 Views</h3>

<ol>
<li>Data View: very much like Excel</li>
<li>Schema View: lists the column name and the data type allowed for that column.</li>
</ol>

<h3>1:M</h3>

<p>the Foreign_key is always on the many side of a one to many relationship</p>

<h3>ORMs</h3>

<p>ActiveRecord is an ORM (Object Relational Mapper), a pattern created by Martin Fowler
which describes how to abstract data from a database into code. Prior to this, using
PHP, you would write sql code directly in the views.</p>

<p>In console, using &quot;= _&quot; is equivalent to your last returned item.</p>

<p>Rails is good for simple, applications with quick builds that aren&#39;t for existing
application is analytics.</p>

<p>Setting up 1:M b/w posts and users (Posts were previously created)</p>

<ol>
<li><p>Create user table
Terminal: rails g migration create_users</p></li>
<li><p>Create Users model
Create model - singular, snack_case of Class name</p></li>
<li><p>Need to add foreign key to the many side (the Posts table)
Terminal: rails g migration add<em>user</em>id<em>to</em>posts</p></li>
</ol>

<p>Inside migration file:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">change</span>
    <span class="n">add_column</span> <span class="ss">:table_name</span> <span class="ss">:foreign_key</span> <span class="p">(</span><span class="n">which</span> <span class="n">is</span> <span class="n">normally</span> <span class="n">the</span> <span class="n">resource</span><span class="o">+</span><span class="n">primary_key</span><span class="p">),</span> <span class="ss">:datatype</span> <span class="p">(</span><span class="n">always</span> <span class="n">will</span> <span class="n">be</span> <span class="n">integer</span><span class="p">)</span>

    <span class="n">add_column</span> <span class="ss">:posts</span><span class="p">,</span> <span class="ss">:user_id</span><span class="p">,</span> <span class="ss">:integer</span>
  <span class="k">end</span></code></pre></div>

<ol>
<li>Write in has<em>many and belongs</em>to on the models</li>
</ol>

<h3>Virtual Attribute</h3>

<p>attributes that are not columns, are given through associations</p>

<h2>Mass Assignment</h2>

<p>The ability create/update AR obj through a hash where the keys match the attirbute
or virtual attribute.
example:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Post</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">title</span><span class="p">:</span> <span class="s2">&quot;some title&quot;</span><span class="p">,</span> <span class="ss">url</span><span class="p">:</span> <span class="s2">&quot;some url&quot;</span><span class="p">,</span> <span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">first</span><span class="p">)</span></code></pre></div>

<h3>Post.new &amp; Post.create</h3>

<p>Both can be used for mass assignment. Post.new is in memory (no user id assigned)
while Post.create will update to the database immediately.</p>

<p>Post.build and Post.new are the same.</p>

<h3>When in the console:</h3>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">You</span> <span class="n">can</span> <span class="n">run</span> <span class="n">the</span> <span class="n">following</span> <span class="ss">commands</span><span class="p">:</span>
  <span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">first</span>
  <span class="n">post</span> <span class="o">=</span> <span class="no">Post</span><span class="o">.</span><span class="n">first</span>
  <span class="n">post</span><span class="o">.</span><span class="n">user</span> <span class="o">****</span> <span class="n">virtual</span> <span class="n">attribute</span>
  <span class="n">post</span><span class="o">.</span><span class="n">title</span>
  <span class="n">post</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">user</span> <span class="o">***</span><span class="no">NO</span><span class="p">,</span> <span class="n">you</span> <span class="n">can</span> <span class="n">only</span> <span class="n">set</span> <span class="n">objects</span> <span class="n">to</span> <span class="n">object</span> <span class="ow">and</span> <span class="n">integers</span> <span class="n">to</span> <span class="n">integers</span>
  <span class="n">post</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">user_id</span></code></pre></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/09/25/blackjack-oo-game/">
        Intro to Ruby & Web Dev: Blackjack OO Game
      </a>
    </h1>

    <span class="post-date">25 Sep 2014</span>

    <h2>Object Oriented Blackjack Game</h2>

<ol>
<li>Abstraction - the interaction of objects (keeping track of state and behaviors</li>
<li>Encapsulation - encapsulates certain behaviors</li>
</ol>

<h3>Steps</h3>

<ol>
<li>Look at the Requirements</li>
<li>Pick nouns</li>
<li>Think off all actions you want the object to perform and write down method calls (i.e. player.deal) as though the methods already exists.</li>
<li>Do this for each class.</li>
</ol>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Card</span>
  <span class="kp">attr_accessor</span> <span class="ss">:suit</span><span class="p">,</span> <span class="ss">:face_value</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">fv</span><span class="p">)</span>
    <span class="vi">@suit</span> <span class="o">=</span> <span class="n">s</span>
    <span class="vi">@face_value</span> <span class="o">=</span> <span class="n">fv</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">pretty_output</span>
    <span class="s2">&quot;The </span><span class="si">#{</span><span class="n">face_value</span><span class="si">}</span><span class="s2"> of </span><span class="si">#{</span><span class="n">find_suit</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">to_s</span>
    <span class="n">pretty_output</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">find_suit</span>
    <span class="n">ret_val</span> <span class="o">=</span> <span class="k">case</span> <span class="n">suit</span>
                <span class="k">when</span> <span class="s1">&#39;H&#39;</span> <span class="k">then</span> <span class="s1">&#39;Hearts&#39;</span>
                <span class="k">when</span> <span class="s1">&#39;D&#39;</span> <span class="k">then</span> <span class="s1">&#39;Diamonds&#39;</span>
                <span class="k">when</span> <span class="s1">&#39;S&#39;</span> <span class="k">then</span> <span class="s1">&#39;Spades&#39;</span>
                <span class="k">when</span> <span class="s1">&#39;C&#39;</span> <span class="k">then</span> <span class="s1">&#39;Clubs&#39;</span>
              <span class="k">end</span>
    <span class="n">ret_val</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Deck</span>
  <span class="kp">attr_accessor</span> <span class="ss">:cards</span>

  <span class="k">def</span> <span class="nf">initialize</span>
    <span class="vi">@cards</span> <span class="o">=</span> <span class="o">[]</span>
    <span class="o">[</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">suit</span><span class="o">|</span>
      <span class="o">[</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;7&#39;</span><span class="p">,</span> <span class="s1">&#39;8&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">,</span> <span class="s1">&#39;10&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">face_value</span><span class="o">|</span>
        <span class="vi">@cards</span> <span class="o">&lt;&lt;</span> <span class="no">Card</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">suit</span><span class="p">,</span> <span class="n">face_value</span><span class="p">)</span>
      <span class="k">end</span>
    <span class="k">end</span>
    <span class="n">scramble!</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">scramble!</span>
    <span class="n">cards</span><span class="o">.</span><span class="n">shuffle!</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">deal_one</span>
    <span class="n">cards</span><span class="o">.</span><span class="n">pop</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">size</span>
    <span class="n">cards</span><span class="o">.</span><span class="n">size</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">module</span> <span class="nn">Hand</span>
  <span class="k">def</span> <span class="nf">show_hand</span>
    <span class="nb">puts</span> <span class="s2">&quot;---- </span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">&#39;s Hand ----&quot;</span>
    <span class="n">cards</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span><span class="o">|</span><span class="n">card</span><span class="o">|</span>
      <span class="nb">puts</span> <span class="s2">&quot;=&gt; </span><span class="si">#{</span><span class="n">card</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">end</span>
    <span class="nb">puts</span> <span class="s2">&quot;=&gt; Total: </span><span class="si">#{</span><span class="n">total</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">total</span>
    <span class="n">face_values</span> <span class="o">=</span> <span class="n">cards</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">card</span><span class="o">|</span> <span class="n">card</span><span class="o">.</span><span class="n">face_value</span> <span class="p">}</span>

    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">face_values</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">val</span><span class="o">|</span>
      <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="s2">&quot;A&quot;</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="mi">11</span>
      <span class="k">else</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">to_i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">10</span> <span class="p">:</span> <span class="n">val</span><span class="o">.</span><span class="n">to_i</span><span class="p">)</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="c1">#correct for Aces</span>
    <span class="n">face_values</span><span class="o">.</span><span class="n">select</span><span class="p">{</span><span class="o">|</span><span class="n">val</span><span class="o">|</span> <span class="n">val</span> <span class="o">==</span> <span class="s2">&quot;A&quot;</span><span class="p">}</span><span class="o">.</span><span class="n">count</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
      <span class="k">break</span> <span class="k">if</span> <span class="n">total</span> <span class="o">&lt;=</span> <span class="mi">21</span>
      <span class="n">total</span> <span class="o">-=</span> <span class="mi">10</span>
    <span class="k">end</span>

    <span class="n">total</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">add_card</span><span class="p">(</span><span class="n">new_card</span><span class="p">)</span>
    <span class="n">cards</span> <span class="o">&lt;&lt;</span> <span class="n">new_card</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">is_busted?</span>
    <span class="n">total</span> <span class="o">&gt;</span> <span class="no">Blackjack</span><span class="o">::</span><span class="no">BLACKJACK_AMOUNT</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Player</span>
  <span class="kp">include</span> <span class="no">Hand</span>

  <span class="kp">attr_accessor</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:cards</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="n">n</span>
    <span class="vi">@cards</span> <span class="o">=</span> <span class="o">[]</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">show_flop</span>
    <span class="n">show_hand</span>
  <span class="k">end</span>

<span class="k">end</span>

<span class="k">class</span> <span class="nc">Dealer</span>
  <span class="kp">include</span> <span class="no">Hand</span>

  <span class="kp">attr_accessor</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:cards</span>

  <span class="k">def</span> <span class="nf">initialize</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="s2">&quot;Dealer&quot;</span>
    <span class="vi">@cards</span> <span class="o">=</span> <span class="o">[]</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">show_flop</span>
    <span class="nb">puts</span> <span class="s2">&quot;---- Dealer&#39;s Hand ----&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;=&gt; First card is hidden&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;=&gt; Second card is </span><span class="si">#{</span><span class="n">cards</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Blackjack</span>
  <span class="kp">attr_accessor</span> <span class="ss">:deck</span><span class="p">,</span> <span class="ss">:player</span><span class="p">,</span> <span class="ss">:dealer</span>

  <span class="no">BLACKJACK_AMOUNT</span> <span class="o">=</span> <span class="mi">21</span>
  <span class="no">DEALER_HIT_MIN</span> <span class="o">=</span> <span class="mi">17</span>

  <span class="k">def</span> <span class="nf">initialize</span>
    <span class="vi">@deck</span> <span class="o">=</span> <span class="no">Deck</span><span class="o">.</span><span class="n">new</span>
    <span class="vi">@player</span> <span class="o">=</span> <span class="no">Player</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Player1&quot;</span><span class="p">)</span>
    <span class="vi">@dealer</span> <span class="o">=</span> <span class="no">Dealer</span><span class="o">.</span><span class="n">new</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">set_player_name</span>
    <span class="nb">puts</span> <span class="s2">&quot;What&#39;s your name?&quot;</span>
    <span class="n">player</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">deal_cards</span>
    <span class="n">player</span><span class="o">.</span><span class="n">add_card</span><span class="p">(</span><span class="n">deck</span><span class="o">.</span><span class="n">deal_one</span><span class="p">)</span>
    <span class="n">dealer</span><span class="o">.</span><span class="n">add_card</span><span class="p">(</span><span class="n">deck</span><span class="o">.</span><span class="n">deal_one</span><span class="p">)</span>
    <span class="n">player</span><span class="o">.</span><span class="n">add_card</span><span class="p">(</span><span class="n">deck</span><span class="o">.</span><span class="n">deal_one</span><span class="p">)</span>
    <span class="n">dealer</span><span class="o">.</span><span class="n">add_card</span><span class="p">(</span><span class="n">deck</span><span class="o">.</span><span class="n">deal_one</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">show_flop</span>
    <span class="n">player</span><span class="o">.</span><span class="n">show_flop</span>
    <span class="n">dealer</span><span class="o">.</span><span class="n">show_flop</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">blackjack_or_bust?</span><span class="p">(</span><span class="n">player_or_dealer</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">player_or_dealer</span><span class="o">.</span><span class="n">total</span> <span class="o">==</span> <span class="no">BLACKJACK_AMOUNT</span>
      <span class="k">if</span> <span class="n">player_or_dealer</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="no">Dealer</span><span class="p">)</span>
        <span class="nb">puts</span> <span class="s2">&quot;Sorry, dealer hit blackjack. </span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> loses.&quot;</span>
      <span class="k">else</span>
        <span class="nb">puts</span> <span class="s2">&quot;Congratulations, you hit blackjack! </span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> win!&quot;</span>
      <span class="k">end</span>
      <span class="n">play_again?</span>
    <span class="k">elsif</span> <span class="n">player_or_dealer</span><span class="o">.</span><span class="n">is_busted?</span>
      <span class="k">if</span> <span class="n">player_or_dealer</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="no">Dealer</span><span class="p">)</span>
        <span class="nb">puts</span> <span class="s2">&quot;Congratulations, dealer busted. </span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> win!&quot;</span>
      <span class="k">else</span>
        <span class="nb">puts</span> <span class="s2">&quot;Sorry, </span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> busted. </span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> loses.&quot;</span>
      <span class="k">end</span>
      <span class="n">play_again?</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">player_turn</span>
    <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;s turn.&quot;</span>

    <span class="n">blackjack_or_bust?</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>

    <span class="k">while</span> <span class="o">!</span><span class="n">player</span><span class="o">.</span><span class="n">is_busted?</span>
      <span class="nb">puts</span> <span class="s2">&quot;What would you like to do? 1) hit 2) stay&quot;</span>
      <span class="n">response</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>

      <span class="k">if</span> <span class="o">![</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="o">].</span><span class="n">include?</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="nb">puts</span> <span class="s2">&quot;Error: you must enter 1 or 2&quot;</span>
        <span class="k">next</span>
      <span class="k">end</span>

      <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s1">&#39;2&#39;</span>
        <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> chose to stay.&quot;</span>
        <span class="k">break</span>
      <span class="k">end</span>

      <span class="c1">#hit</span>
      <span class="n">new_card</span> <span class="o">=</span> <span class="n">deck</span><span class="o">.</span><span class="n">deal_one</span>
      <span class="nb">puts</span> <span class="s2">&quot;Dealing card to </span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">#{</span><span class="n">new_card</span><span class="si">}</span><span class="s2">&quot;</span>
      <span class="n">player</span><span class="o">.</span><span class="n">add_card</span><span class="p">(</span><span class="n">new_card</span><span class="p">)</span>
      <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;s total is now: </span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">total</span><span class="si">}</span><span class="s2">&quot;</span>

      <span class="n">blackjack_or_bust?</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
    <span class="k">end</span>
    <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> stays at </span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">total</span><span class="si">}</span><span class="s2">.&quot;</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">dealer_turn</span>
    <span class="nb">puts</span> <span class="s2">&quot;Dealer&#39;s turn.&quot;</span>

    <span class="n">blackjack_or_bust?</span><span class="p">(</span><span class="n">dealer</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">dealer</span><span class="o">.</span><span class="n">total</span> <span class="o">&lt;</span> <span class="no">DEALER_HIT_MIN</span>
      <span class="n">new_card</span> <span class="o">=</span> <span class="n">deck</span><span class="o">.</span><span class="n">deal_one</span>
      <span class="nb">puts</span> <span class="s2">&quot;Dealing card to dealer: </span><span class="si">#{</span><span class="n">new_card</span><span class="si">}</span><span class="s2">&quot;</span>
      <span class="n">dealer</span><span class="o">.</span><span class="n">add_card</span><span class="p">(</span><span class="n">new_card</span><span class="p">)</span>
      <span class="nb">puts</span> <span class="s2">&quot;Dealer total is now: </span><span class="si">#{</span><span class="n">dealer</span><span class="o">.</span><span class="n">total</span><span class="si">}</span><span class="s2">&quot;</span>

      <span class="n">blackjack_or_bust?</span><span class="p">(</span><span class="n">dealer</span><span class="p">)</span>
    <span class="k">end</span>
    <span class="nb">puts</span> <span class="s2">&quot;Dealer stays at </span><span class="si">#{</span><span class="n">dealer</span><span class="o">.</span><span class="n">total</span><span class="si">}</span><span class="s2">.&quot;</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">who_won?</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">total</span> <span class="o">&gt;</span> <span class="n">dealer</span><span class="o">.</span><span class="n">total</span>
      <span class="nb">puts</span> <span class="s2">&quot;Congratulations, </span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> wins!&quot;</span>
    <span class="k">elsif</span> <span class="n">player</span><span class="o">.</span><span class="n">total</span> <span class="o">&lt;</span> <span class="n">dealer</span><span class="o">.</span><span class="n">total</span>
      <span class="nb">puts</span> <span class="s2">&quot;Sorry, </span><span class="si">#{</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> loses.&quot;</span>
    <span class="k">else</span>
      <span class="nb">puts</span> <span class="s2">&quot;It&#39;s a tie!&quot;</span>
    <span class="k">end</span>
    <span class="n">play_again?</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">play_again?</span>
    <span class="nb">puts</span> <span class="s2">&quot;&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;Would you like to play again? 1) yes 2) no, exit&quot;</span>
    <span class="k">if</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span>
      <span class="nb">puts</span> <span class="s2">&quot;Starting new game...&quot;</span>
      <span class="nb">puts</span> <span class="s2">&quot;&quot;</span>
      <span class="n">deck</span> <span class="o">=</span> <span class="no">Deck</span><span class="o">.</span><span class="n">new</span>
      <span class="n">player</span><span class="o">.</span><span class="n">cards</span> <span class="o">=</span> <span class="o">[]</span>
      <span class="n">dealer</span><span class="o">.</span><span class="n">cards</span> <span class="o">=</span> <span class="o">[]</span>
      <span class="n">start</span>
    <span class="k">else</span>
      <span class="nb">puts</span> <span class="s2">&quot;Goodbye!&quot;</span>
      <span class="nb">exit</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">start</span>
    <span class="n">set_player_name</span>
    <span class="n">deal_cards</span>
    <span class="n">show_flop</span>
    <span class="n">player_turn</span>
    <span class="n">dealer_turn</span>
    <span class="n">who_won?</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">game</span> <span class="o">=</span> <span class="no">Blackjack</span><span class="o">.</span><span class="n">new</span>
<span class="n">game</span><span class="o">.</span><span class="n">start</span></code></pre></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/09/22/tic-tac-toe-oo/">
        Intro to Ruby & Web Dev: Tic-Tac-Toe OO Game
      </a>
    </h1>

    <span class="post-date">22 Sep 2014</span>

    <h1>Goal</h1>

<p>Build a tic-tac-toe game with object oriented programming.</p>

<h2>There are 2 Approaches</h2>

<ol>
<li>Look at Procedural Code and extract classes and objects (more experienced)</li>
<li>Write out psuedo code (put rules into words describing the game, list nouns and common verbs</li>
</ol>

<h2>Start with an empty 3x3 board.</h2>

<p>Board with two players
One player is &quot;x&quot;, the other is &quot;o&quot;, and player &quot;x&quot; goes first. Then they alternate until 3 of x/o in a row or
all cells are ful, which means its a tie.</p>

<h2>Extract Classes</h2>

<h3>Board</h3>

<ul>
<li>squares</li>
<li>Are all squares marked?</li>
<li>Find all empty squares
###Player</li>
<li>name</li>
<li>marker</li>
</ul>

<h3>Square</h3>

<p>you wouldn&#39;t want to say square is aware of position, b/c the square is no longer reusable
  - occupied?
  - mark(marker)</p>

<h3>Game_engine</h3>

<p>is the procedural peice to the game that will orchestrate the game
Sequence of steps</p>

<ol>
<li>Draw a board</li>
<li>Assign Player to &quot;x&quot;</li>
<li>Assign Computer to &quot;o&quot;
Loop until a winner or all squares are taken</li>
<li>Player 1 picks an empty square
Check for winner</li>
<li>Player 2 picks an empty square</li>
<li>Check for winner</li>
<li>If there is a winner, show winner; else &quot;It&#39;s a tie&quot;</li>
</ol>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Board</span>
  <span class="no">WINNING_LINES</span> <span class="o">=</span> <span class="o">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="o">]]</span>

  <span class="k">def</span> <span class="nf">initialize</span>
    <span class="vi">@data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">position</span><span class="o">|</span> <span class="vi">@data</span><span class="o">[</span><span class="n">position</span><span class="o">]</span> <span class="o">=</span> <span class="no">Square</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="p">}</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">empty_squares</span>
    <span class="vi">@data</span><span class="o">.</span><span class="n">select</span> <span class="p">{</span><span class="o">|</span><span class="n">_</span><span class="p">,</span> <span class="n">square</span><span class="o">|</span> <span class="n">square</span><span class="o">.</span><span class="n">empty?</span><span class="p">}</span><span class="o">.</span><span class="n">values</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">empty_positions</span>
    <span class="vi">@data</span><span class="o">.</span><span class="n">select</span> <span class="p">{</span><span class="o">|</span><span class="n">_</span><span class="p">,</span> <span class="n">square</span><span class="o">|</span> <span class="n">square</span><span class="o">.</span><span class="n">empty?</span><span class="p">}</span><span class="o">.</span><span class="n">keys</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">all_squares_marked?</span>
    <span class="n">empty_squares</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">0</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">three_squares_in_a_row?</span><span class="p">(</span><span class="n">marker</span><span class="p">)</span>
    <span class="no">WINNING_LINES</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">line</span><span class="o">|</span>
      <span class="k">return</span> <span class="kp">true</span> <span class="k">if</span> <span class="vi">@data</span><span class="o">[</span><span class="n">line</span><span class="o">[</span><span class="mi">0</span><span class="o">]].</span><span class="n">value</span> <span class="o">==</span> <span class="n">marker</span> <span class="o">&amp;&amp;</span> <span class="vi">@data</span><span class="o">[</span><span class="n">line</span><span class="o">[</span><span class="mi">1</span><span class="o">]].</span><span class="n">value</span>  <span class="o">==</span> <span class="n">marker</span> <span class="o">&amp;&amp;</span> <span class="vi">@data</span><span class="o">[</span><span class="n">line</span><span class="o">[</span><span class="mi">2</span><span class="o">]].</span><span class="n">value</span> <span class="o">==</span> <span class="n">marker</span>
    <span class="k">end</span>
    <span class="kp">false</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">mark_square</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">marker</span><span class="p">)</span>
    <span class="vi">@data</span><span class="o">[</span><span class="n">position</span><span class="o">].</span><span class="n">mark</span><span class="p">(</span><span class="n">marker</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">draw</span>
    <span class="nb">system</span> <span class="s1">&#39;clear&#39;</span>
    <span class="nb">puts</span>
    <span class="nb">puts</span> <span class="s2">&quot;     |     |&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;  </span><span class="si">#{</span><span class="vi">@data</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="si">}</span><span class="s2">  |  </span><span class="si">#{</span><span class="vi">@data</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="si">}</span><span class="s2">  |  </span><span class="si">#{</span><span class="vi">@data</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;     |     |&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;-----+-----+-----&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;     |     |&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;  </span><span class="si">#{</span><span class="vi">@data</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span><span class="si">}</span><span class="s2">  |  </span><span class="si">#{</span><span class="vi">@data</span><span class="o">[</span><span class="mi">5</span><span class="o">]</span><span class="si">}</span><span class="s2">  |  </span><span class="si">#{</span><span class="vi">@data</span><span class="o">[</span><span class="mi">6</span><span class="o">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;     |     |&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;-----+-----+-----&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;     |     |&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;  </span><span class="si">#{</span><span class="vi">@data</span><span class="o">[</span><span class="mi">7</span><span class="o">]</span><span class="si">}</span><span class="s2">  |  </span><span class="si">#{</span><span class="vi">@data</span><span class="o">[</span><span class="mi">8</span><span class="o">]</span><span class="si">}</span><span class="s2">  |  </span><span class="si">#{</span><span class="vi">@data</span><span class="o">[</span><span class="mi">9</span><span class="o">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;     |     |&quot;</span>
    <span class="nb">puts</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Player</span>
  <span class="kp">attr_reader</span> <span class="ss">:marker</span><span class="p">,</span> <span class="ss">:name</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">,</span> <span class="n">marker</span><span class="p">)</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
    <span class="vi">@marker</span> <span class="o">=</span> <span class="n">marker</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Square</span>
  <span class="kp">attr_reader</span> <span class="ss">:value</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="vi">@value</span> <span class="o">=</span> <span class="n">value</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">empty?</span>
    <span class="vi">@value</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">mark</span><span class="p">(</span><span class="n">marker</span><span class="p">)</span>
    <span class="vi">@value</span> <span class="o">=</span> <span class="n">marker</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">to_s</span>
    <span class="vi">@value</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Game</span>
  <span class="k">def</span> <span class="nf">initialize</span>
    <span class="vi">@board</span> <span class="o">=</span> <span class="no">Board</span><span class="o">.</span><span class="n">new</span>
    <span class="vi">@human</span> <span class="o">=</span> <span class="no">Player</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;James&quot;</span><span class="p">,</span> <span class="s2">&quot;X&quot;</span><span class="p">)</span>
    <span class="vi">@computer</span> <span class="o">=</span> <span class="no">Player</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;R2D2&quot;</span><span class="p">,</span> <span class="s2">&quot;O&quot;</span><span class="p">)</span>
    <span class="vi">@current_player</span> <span class="o">=</span> <span class="vi">@human</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">current_player_marks_square</span>
    <span class="k">if</span> <span class="vi">@current_player</span> <span class="o">==</span> <span class="vi">@human</span>
      <span class="k">begin</span>
        <span class="nb">puts</span> <span class="s2">&quot;Choose a position </span><span class="si">#{</span><span class="vi">@board</span><span class="o">.</span><span class="n">empty_positions</span><span class="si">}</span><span class="s2"> to place a piece:&quot;</span>
        <span class="n">position</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span><span class="o">.</span><span class="n">to_i</span>
      <span class="k">end</span> <span class="k">until</span> <span class="vi">@board</span><span class="o">.</span><span class="n">empty_positions</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="n">position</span><span class="p">)</span>
    <span class="k">else</span>
      <span class="n">position</span> <span class="o">=</span> <span class="vi">@board</span><span class="o">.</span><span class="n">empty_positions</span><span class="o">.</span><span class="n">sample</span>
    <span class="k">end</span>
    <span class="vi">@board</span><span class="o">.</span><span class="n">mark_square</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="vi">@current_player</span><span class="o">.</span><span class="n">marker</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">alternate_player</span>
    <span class="k">if</span> <span class="vi">@current_player</span> <span class="o">==</span> <span class="vi">@human</span>
      <span class="vi">@current_player</span> <span class="o">=</span> <span class="vi">@computer</span>
    <span class="k">else</span>
      <span class="vi">@current_player</span> <span class="o">=</span> <span class="vi">@human</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">current_player_wins?</span>
    <span class="vi">@board</span><span class="o">.</span><span class="n">three_squares_in_a_row?</span><span class="p">(</span><span class="vi">@current_player</span><span class="o">.</span><span class="n">marker</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">play</span>
    <span class="vi">@board</span><span class="o">.</span><span class="n">draw</span>
    <span class="kp">loop</span> <span class="k">do</span>
      <span class="n">current_player_marks_square</span>
      <span class="vi">@board</span><span class="o">.</span><span class="n">draw</span>
      <span class="k">if</span> <span class="n">current_player_wins?</span>
        <span class="nb">puts</span> <span class="s2">&quot;The winner is </span><span class="si">#{</span><span class="vi">@current_player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span>
        <span class="k">break</span>
      <span class="k">elsif</span> <span class="vi">@board</span><span class="o">.</span><span class="n">all_squares_marked?</span>
        <span class="nb">puts</span> <span class="s2">&quot;It&#39;s a tie.&quot;</span>
        <span class="k">break</span>
      <span class="k">else</span>
        <span class="n">alternate_player</span>
      <span class="k">end</span>
    <span class="k">end</span>
    <span class="nb">puts</span> <span class="s2">&quot;Bye&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="no">Game</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">play</span></code></pre></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/09/21/course1-lesson4/">
        Intro to Ruby & Web Dev: Lesson 3
      </a>
    </h1>

    <span class="post-date">21 Sep 2014</span>

    <h1>Items covered:</h1>

<ol>
<li>Ajax</li>
<li>Un-obstrusive Javascript</li>
<li>Jquery</li>
<li>Deployment Options</li>
</ol>

<h2>Ajax</h2>

<p>is used in a scernario when elements on the page are changing but you only want thos elements
to change rather reload (reconstituting the state of your application) each time.
Pages can be computationally expensive and create a bad user interface.
Ajax will issue the request behind the scences and the when the response comes back, your Javascript code must handle that data.
This is using unobstrusive Javascript. For example, if you have likes on your Facebook page, we will want
to see an increment in the number of likes and the like button go from &quot;like&quot; to &quot;unlike&quot;.
However, for our use case, only the URL won&#39;t change.</p>

<h2>Un-obsturive Javascript</h2>

<p>Back in the day, Js used to be added directly to the HTML but now a js file is created just like
the stylesheet.css file added to the layout.erb
JQuery is now the defacto Js Library.</p>

<div class="highlight"><pre><code class="language-html" data-lang="html">You must add the <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/application.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span> to the layout.erb
Google hosts Jquery for you!
1.x snippet: <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span></code></pre></div>

<ul>
<li># is an anchor tag
##JQuery
.class - same style
#id - unique element on your DOM</li>
</ul>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="nx">funtion</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;element&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="nx">funtion</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="err">#</span><span class="nx">player</span><span class="p">)</span><span class="nx">_area</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;background-color&#39;</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span><span class="o">===&gt;</span> <span class="k">do</span> <span class="nx">not</span> <span class="nx">re</span><span class="o">-</span><span class="nx">execute</span>
      <span class="p">});</span>
  <span class="p">});</span></code></pre></div>

<p>un-obstrusive Js allows you to hijack the webpage.
You shouldn&#39;t create elaborate pages with a bunch of event-listeners.
Using JQuery in this manner can be hard to manage. So if you&#39;re looking to create an enriched
user-experience, you should use Angular, Backbone, and/or Ember.
So more like dashes and sprinkles of Jquery rather than overload of JQuery</p>

<p>Hijacking (Adding JQuery to) the &quot;hit-button&quot;</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#hit_form input&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;hit button clicked!&#39;</span><span class="p">);</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">});</span>
  <span class="p">});</span></code></pre></div>

<p>use console.log (to inspect/debug in Firefox)</p>

<p>Using Ajax</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="err">#</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#hit_form input&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="err">#</span><span class="nx">must</span> <span class="nx">be</span> <span class="nx">rebind</span> <span class="kd">with</span> <span class="nx">the</span> <span class="nx">input</span> <span class="nx">again</span> <span class="nx">after</span> <span class="nx">indcating</span> <span class="nx">layout</span> <span class="kc">false</span>
    <span class="nx">$document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="nx">click</span><span class="p">,</span> <span class="s1">&#39;#hit_form input&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">())</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span> <span class="err">#</span><span class="k">this</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">hash</span><span class="p">,</span> <span class="nx">much</span> <span class="nx">include</span> <span class="nx">comma</span> <span class="nx">after</span> <span class="nx">entry</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
      <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/game/player/hit&#39;</span>
      <span class="err">#</span><span class="nx">data</span><span class="o">:</span> <span class="err">#</span><span class="nx">also</span> <span class="nx">known</span> <span class="nx">as</span> <span class="nx">parameters</span>
      <span class="p">)}.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
        <span class="err">#</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#game&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span> <span class="err">#</span><span class="nx">create</span> <span class="nx">div</span> <span class="k">for</span> <span class="nx">game</span><span class="p">.</span> <span class="nx">Can</span><span class="s1">&#39;t use HTML b/c its creating a duplicate game div id</span>
<span class="s1">        $(&#39;</span><span class="err">#</span><span class="nx">game</span><span class="err">&#39;</span><span class="p">).</span><span class="nx">replaceWith</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
        <span class="p">});</span>
      <span class="p">});</span>

    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">});</span>
  <span class="p">});</span></code></pre></div>

<h2>Deployment Options</h2>

<ol>
<li>Self-managed</li>
<li>Shared host (no longer popular)</li>
<li>VPS (most popular)

<ul>
<li>AWS, Rackspace, Linode, Digital Ocean</li>
<li>must have sys admin knowledge</li>
</ul></li>
<li><p>Dedicated Server (hardware) - most expensive</p></li>
<li><p>Managed - no sys admin needs, no access to file system</p></li>
<li><p>Heroku</p></li>
<li><p>Google App Engine</p></li>
<li><p>Ninefold</p></li>
</ol>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page19">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page17">Newer</a>
    
  
</div>
    </div>

  </body>
</html>
