<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      grit| commit &middot; A coding blog by Jam
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0c">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          <span style="color: #FF6347; font: Verdana">grit| commit</span>
        </a>
      </h1>
      <p class="lead">daily learnings as a ruby dev</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

    <p>&copy; 2015. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/09/21/course1-lesson4/">
        Intro to Ruby & Web Dev: Lesson 3
      </a>
    </h1>

    <span class="post-date">21 Sep 2014</span>

    <h1>Items covered:</h1>

<ol>
<li>Ajax</li>
<li>Un-obstrusive Javascript</li>
<li>Jquery</li>
<li>Deployment Options</li>
</ol>

<h2>Ajax</h2>

<p>is used in a scernario when elements on the page are changing but you only want thos elements
to change rather reload (reconstituting the state of your application) each time.
Pages can be computationally expensive and create a bad user interface.
Ajax will issue the request behind the scences and the when the response comes back, your Javascript code must handle that data.
This is using unobstrusive Javascript. For example, if you have likes on your Facebook page, we will want
to see an increment in the number of likes and the like button go from &quot;like&quot; to &quot;unlike&quot;.
However, for our use case, only the URL won&#39;t change.</p>

<h2>Un-obsturive Javascript</h2>

<p>Back in the day, Js used to be added directly to the HTML but now a js file is created just like
the stylesheet.css file added to the layout.erb
JQuery is now the defacto Js Library.</p>

<div class="highlight"><pre><code class="language-html" data-lang="html">You must add the <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/application.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span> to the layout.erb
Google hosts Jquery for you!
1.x snippet: <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span></code></pre></div>

<ul>
<li># is an anchor tag
##JQuery
.class - same style
#id - unique element on your DOM</li>
</ul>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="nx">funtion</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;element&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="nx">funtion</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="err">#</span><span class="nx">player</span><span class="p">)</span><span class="nx">_area</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;background-color&#39;</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span><span class="o">===&gt;</span> <span class="k">do</span> <span class="nx">not</span> <span class="nx">re</span><span class="o">-</span><span class="nx">execute</span>
      <span class="p">});</span>
  <span class="p">});</span></code></pre></div>

<p>un-obstrusive Js allows you to hijack the webpage.
You shouldn&#39;t create elaborate pages with a bunch of event-listeners.
Using JQuery in this manner can be hard to manage. So if you&#39;re looking to create an enriched
user-experience, you should use Angular, Backbone, and/or Ember.
So more like dashes and sprinkles of Jquery rather than overload of JQuery</p>

<p>Hijacking (Adding JQuery to) the &quot;hit-button&quot;</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#hit_form input&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;hit button clicked!&#39;</span><span class="p">);</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">});</span>
  <span class="p">});</span></code></pre></div>

<p>use console.log (to inspect/debug in Firefox)</p>

<p>Using Ajax</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="err">#</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#hit_form input&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="err">#</span><span class="nx">must</span> <span class="nx">be</span> <span class="nx">rebind</span> <span class="kd">with</span> <span class="nx">the</span> <span class="nx">input</span> <span class="nx">again</span> <span class="nx">after</span> <span class="nx">indcating</span> <span class="nx">layout</span> <span class="kc">false</span>
    <span class="nx">$document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="nx">click</span><span class="p">,</span> <span class="s1">&#39;#hit_form input&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">())</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span> <span class="err">#</span><span class="k">this</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">hash</span><span class="p">,</span> <span class="nx">much</span> <span class="nx">include</span> <span class="nx">comma</span> <span class="nx">after</span> <span class="nx">entry</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
      <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/game/player/hit&#39;</span>
      <span class="err">#</span><span class="nx">data</span><span class="o">:</span> <span class="err">#</span><span class="nx">also</span> <span class="nx">known</span> <span class="nx">as</span> <span class="nx">parameters</span>
      <span class="p">)}.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
        <span class="err">#</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#game&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span> <span class="err">#</span><span class="nx">create</span> <span class="nx">div</span> <span class="k">for</span> <span class="nx">game</span><span class="p">.</span> <span class="nx">Can</span><span class="s1">&#39;t use HTML b/c its creating a duplicate game div id</span>
<span class="s1">        $(&#39;</span><span class="err">#</span><span class="nx">game</span><span class="err">&#39;</span><span class="p">).</span><span class="nx">replaceWith</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
        <span class="p">});</span>
      <span class="p">});</span>

    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">});</span>
  <span class="p">});</span></code></pre></div>

<h2>Deployment Options</h2>

<ol>
<li>Self-managed</li>
<li>Shared host (no longer popular)</li>
<li>VPS (most popular)

<ul>
<li>AWS, Rackspace, Linode, Digital Ocean</li>
<li>must have sys admin knowledge</li>
</ul></li>
<li><p>Dedicated Server (hardware) - most expensive</p></li>
<li><p>Managed - no sys admin needs, no access to file system</p></li>
<li><p>Heroku</p></li>
<li><p>Google App Engine</p></li>
<li><p>Ninefold</p></li>
</ol>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/09/14/course1-lesson3/">
        Intro to Ruby & Web Dev: Lesson 3
      </a>
    </h1>

    <span class="post-date">14 Sep 2014</span>

    <h1>Items covered</h1>

<ol>
<li>HTTP Request/Response Cycle</li>
<li>MVC</li>
<li>Sinatra(Shotgun)</li>
<li>Erb</li>
<li>Persistence</li>
</ol>

<h1>Difference b/w websites and web applications</h1>

<ol>
<li>Websites - static HTML, web server</li>
<li>Web Applications - Actual server</li>
</ol>

<h2>HTTP</h2>

<p>is broken up into 2 actions:</p>

<ol>
<li>Request

<ul>
<li>HTTP Verbs/Method</li>
<li>URL</li>
<li>Parameters</li>
</ul></li>
<li><p>Response</p>

<ul>
<li>Status Code</li>
<li>Payload (not necessarily HTML all the time... could be JSON, XML)
HTTP is also stateless. B/w every request, the browser must reconsitute the world to resemeble that current state.
__________________</li>
</ul></li>
<li><p>Request - any interaction that you have with a web application</p>

<ul>
<li>2 Types of Requests - this is how a user interacts with the website</li>
<li>HTTP Verbs</li>
<li>GET

<ul>
<li>Link or type into address bar</li>
<li>smaller payload (there is a size limit)</li>
<li>parameters are a apart of the URL</li>
</ul></li>
<li>POST

<ul>
<li>forms</li>
<li>larger payload</li>
<li>parameters are submitted in the body</li>
</ul></li>
<li>parameters are submitted as apart of a form</li>
<li>HTTP Methods</li>
</ul></li>
<li><p>Response</p>

<ul>
<li>Status Code</li>
<li>200: ok</li>
<li>301: redirect</li>
<li>404: File not found</li>
<li>500: general error</li>
</ul></li>
</ol>

<h2>MVC</h2>

<p>Person visits site and a request is to the controller/actions.
Depending on the HTTP Verb, URL, and parameters passed - the controller will reference the model for the logic
and the model, in turn will potentially reach to the database. Once retrieved, the controller render a view.</p>

<p>We are foregoing the model and focusing on the request and render features, using a cookie as our sessions.</p>

<h2>Sinatra App</h2>

<p>Sinatra uses localhost:4567</p>

<p>Sinatra doesn&#39;t automatically reload - for this, install shotgun and run &#39;ruby main.rb&#39; =&gt; localhost:9393</p>

<h3>Shotgun</h3>

<p>Allows your browser to refresh and updates with changes without stopping the server.</p>

<p>Install in terminal: gem install Shotgun.</p>

<p>Launched via port:9393 by running &quot;shotgun main.rb&quot;</p>

<p>Link is loaded at &#39;/&#39;</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">In</span> <span class="n">main</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span>

<span class="n">get</span> <span class="s1">&#39;/&#39;</span> <span class="k">do</span>
  <span class="s2">&quot;Hello World&quot;</span> <span class="o">+</span><span class="n">params</span><span class="o">[</span><span class="ss">:some</span><span class="o">].</span><span class="n">to_s</span>
<span class="k">end</span></code></pre></div>

<h2>Erb</h2>

<p>Instead of working with code directly - HTML, etc , we want to work with templates (.erb)</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">  get &#39;test/&#39; do
    erb :test
  end
</code></pre></div>
<ul>
<li>Create test.erb (layout: false) - to remove layout</li>
</ul>

<p>Instance variables setup in the action are available in the template, but only the template is being rendered</p>

<p>Erb =&gt; Embedded Ruby</p>

<p>&lt;% %&gt; Ruby code that doesn&#39;t need to be printed to HTML
&lt;%= %&gt; Ruby code that should be printed out to HTML</p>

<hr>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">main</span><span class="o">.</span><span class="n">rb</span>
<span class="n">get</span> <span class="s1">&#39;/test&#39;</span> <span class="k">do</span>
  <span class="vi">@error</span> <span class="o">=</span> <span class="s2">&quot;We&#39;ve got a problem&quot;</span>
  <span class="n">erb</span> <span class="ss">:test</span> <span class="o">***</span> <span class="n">points</span> <span class="n">to</span> <span class="n">the</span> <span class="nb">test</span><span class="o">.</span><span class="n">erb</span> <span class="n">template</span> <span class="n">under</span> <span class="n">the</span> <span class="n">views</span><span class="o">***</span>
<span class="k">end</span></code></pre></div>

<hr>

<h2>Persistance</h2>

<p>The problem is that accessing the instance variable is only available upon request.
To display form:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#main.rb</span>
<span class="n">get</span> <span class="s1">&#39;/&#39;</span> <span class="k">do</span>
  <span class="n">erb</span> <span class="ss">:set_name</span>
<span class="k">end</span></code></pre></div>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#set_name.erb (Handles the display of data)</span>
<span class="o">&lt;</span><span class="n">h4</span><span class="o">&gt;</span> <span class="no">Set</span> <span class="no">Player</span> <span class="no">Name</span> <span class="o">&lt;</span><span class="sr">/h4&gt;</span>

<span class="sr">&lt;form action=&#39;/se</span><span class="n">t_name</span><span class="s1">&#39; method=&#39;</span><span class="n">post</span><span class="s1">&#39;</span>
<span class="s1">  Name: &lt;input type=&#39;</span><span class="n">text</span><span class="s1">&#39; name=&#39;</span><span class="n">player_name</span><span class="s1">&#39; /&gt;</span>
<span class="s1">  &lt;/br&gt;</span>
<span class="s1">  &lt;input type =&#39;</span><span class="n">submit</span><span class="s1">&#39; class=&#39;</span><span class="n">btn</span><span class="err">&#39;</span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="sr">/form&gt;</span></code></pre></div>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#main.rb (handle the submission of the data)</span>

<span class="n">post</span> <span class="s1">&#39;set_name&#39;</span> <span class="k">do</span>
<span class="k">end</span></code></pre></div>

<p>Whenever making changes to the HTML, you must refresh the browser to take effect.</p>

<p>In order to fix persistence problem, you must use session instead of an instance variable. This allows use to work with cookies( has a limit of 4 kilobytes instead of dealing with relational databases. Can&#39;t deal with more than one decks.:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">post</span> <span class="s1">&#39;/set_name&#39;</span> <span class="k">do</span>
  <span class="n">session</span><span class="o">[</span><span class="ss">:player_name</span><span class="o">]</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:player_name</span><span class="o">]</span>
<span class="k">end</span></code></pre></div>

<p>Sessions can be referenced directly because of the use of cookies.
We know that cookies have tied to the session because we did not reference an instance variables.</p>

<p>You can use the following to reference in your templates in order to display content dynamically and reconstitute all the states you expect.
1. Instance variables
2. Sessions
3. helper methods</p>

<p>The key is to figure out when you will redirect or render:</p>

<ul>
<li>Post - typically redirect</li>
<li>Get - typically render</li>
</ul>

<p>Sinatra is typically very much to the metal and handles much less than Rails.</p>

<p><strong>NOTES FROM BLACKJACK GAME</strong></p>

<ol>
<li><p>main.rb is the game engine.</p></li>
<li><p>Constants: use constants when numbers are consistent through out the the game. This will allow you to be able the rules of the game in the future without having to comb through the code to find where to make the change.</p></li>
<li><p>&quot;set :sessions, true&quot; facilitates some level of persistency, reconstitutes state and allows for your player info to tracked for that session.</p></li>
<li><p>Helpers - &quot;helpers do .... end&quot; any methods within this block will be accessible in both the game engine (main.rb) and the (.erb) templates.</p></li>
<li><p>Used @error and @success bootstrap instance variables to communicate special messages</p></li>
<li><p>Require new player to enter in name:
  post &#39;/new<em>player&#39; do
    if params[:player</em>name].empty?
      @error = &quot;Name is required.&quot;
      halt erb(:new<em>player) #stop, don&#39;t execute anything below this, render template instead.
    end
    session[:player</em>name] = params[:player_name]
    redirect &#39;/game&#39;
  end</p></li>
<li><p>Keep track of who&#39;s turn it is with:</p></li>
</ol>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">session</span><span class="o">[</span><span class="ss">:turn</span><span class="o">]</span> <span class="o">=</span> <span class="n">session</span><span class="o">[</span><span class="ss">:player_name</span><span class="o">]</span>
      <span class="ow">or</span>
    <span class="n">session</span><span class="o">[</span><span class="ss">:turn</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;dealer&quot;</span></code></pre></div>

<ol>
<li><p>Instance Variables: using instance variables allow your game engine to communicate to your layout template and the data is erased as soon as another request comes in.</p></li>
<li><p>halt erb(:new_player) #means stop, don&#39;t execute anything below this, render template instead.</p></li>
<li><p>Always include &quot;erb :game&quot; to render the desired template rather than creating a redirect loop.</p></li>
<li><p>When using post in main.rb and forms in .erb, you must specify the method as &quot;post&quot; in erb becasue the default is GET if you don&#39;t specify.</p></li>
</ol>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">form</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;/new_player&#39;</span> <span class="nb">method</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">input</span> <span class="n">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nb">name</span><span class="o">=</span><span class="s2">&quot;player_name&quot;</span> <span class="sr">/&gt;</span>
<span class="sr">      &lt;br/</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">input</span> <span class="n">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-inverse&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Let&#39;s Play!&quot;</span><span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/form&gt;</span></code></pre></div>

<ol>
<li>You must designate method=&quot;post&quot;, the default is &quot;get&quot;.</li>
<li>Must give the input &quot;text&quot; an arbitrary name, in this instance, we chose &quot;player_name&quot;</li>
<li><p>main.rb: under post, params is reset everytime you call it, so we must set the params[:player<em>name] = session[:player</em>name]</p></li>
<li><p>There are different input types for forms including:</p></li>
</ol>

<p>input type = submit
  input type = text, name = :player_name (must specify a name to track the value)</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/09/13/model-def-vs-invocation/">
        Intro to Ruby & Web Dev: Method Definition vs. Method Invocation
      </a>
    </h1>

    <span class="post-date">13 Sep 2014</span>

    <h2>Method Definition</h2>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
  <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
<span class="k">end</span></code></pre></div>

<h2>Method Invocation using self.</h2>

<p>If you call a method that does not have a caller, ruby will append self. the caller
When calling the self. inside an instance method =&gt; the instance variable itself is returned.</p>

<p>=&gt; self is an object from within the instance method, self changeses depending on what instance method is calling it.
Self being called outside of an instance method refers to the class.</p>

<ul>
<li>Use .inspect to see what self is.</li>
</ul>

<ol>
<li>Singleton (ghost) class shadows a particular object, only
=&gt; will not show up in ancestors
+&gt; you can declare methods on objects and is only callable/accessible by that object.</li>
<li>All classes are objects also.</li>
<li>DSL - Doman Specific Language =&gt; example Rails is a DSL for Ruby, which gives you colligiual sytanx to work with.</li>
<li>Abtractions - all abstractions leak, not every code base is going fit 100% to a Specific way of writing.</li>
</ol>

<p>All Classes are Objects also.
=&gt; All classes are objects of the Class class
=&gt; Everything that starts with a capital letter is a constant, including classes =&gt; that&#39;s why we can store methods in them.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/09/12/inheritance/">
        Intro to Ruby & Web Dev: Inheritance
      </a>
    </h1>

    <span class="post-date">12 Sep 2014</span>

    <h1>Inheritance</h1>

<p>Subclasses inherit attributes and behaviors of superclasses.</p>

<p>When in cases of subclasses and superclass with the same class methods, the subclass will overide the superclass because ruby checks an object class before moving to the superclass.
n the GoodDog class, we&#39;re overriding the speak method in the Animal class because Ruby checks the object&#39;s class first for the method before it looks in the superclass. So, that means when we wrote the code sparky.speak, it first looked at sparky&#39;s class, which is GoodDog. It found the speak method there and used it.</p>

<h2>DRY</h2>

<p>Inheritance can be a great way to remove duplication in your code base. There is an acronym that you&#39;ll see often in the Ruby community, &quot;DRY&quot;. This stands for &quot;Don&#39;t Repeat Yourself&quot;. It means that if you find yourself writing the same logic over and over again in your programs, there are ways to extract that logic to one place for reuse.</p>

<h2>Mixing in Modules</h2>

<p>Another way to DRY up your code in Ruby is to use modules. We&#39;ve already seen a little bit of how to use modules, but we&#39;ll give a few more examples here.</p>

<p>Extracting common methods to a superclass, like we did in the previous lesson, is a great way to model concepts that are naturally hierarchical.</p>

<h2>Inheritance vs Modules</h2>

<p>Now that you know the two primary ways that Ruby implements inheritance, class inheritance and mixing in modules, you may wonder when to use one vs the other. Here are a couple of things to remember when evaluating those two choices.</p>

<p>You can only subclass from one class. But you can mix in as many modules as you&#39;d like.
If it&#39;s an &quot;is-a&quot; relationship, choose class inheritance. If it&#39;s a &quot;has-a relationship, choose modules. Example: a dog &quot;is an&quot; animal; a dog &quot;has an ability to swim.
You cannot instantiate modules (i.e., no object can be created from a module) Modules are used only for namespacing and grouping common methods together.</p>

<h2>Method Lookup Path</h2>

<p>Now that you have a grasp on both inheritance and mixins. Let&#39;s put them both together to see how that affects the method lookup path. Recall the method lookup path is the order in which classes are inspected when you call a method.</p>

<p>There are several interesting things about the above output. First, this tells us that the order in which we include modules is important. Ruby actually looks at the last module we included first. This means that in the rare ocurrance that the modules we mix in contain a method with the same name, the last module included will be consulted first. The second interesting thing is that the module included in the superclass made it on to the method lookup path. That means that all GoodDog objects will have access to not only Animal methods, but also methods defined in the Walkable module, as well as all other modules mixed in to any of its superclasses.</p>

<h2>Private, Public, and Protected Methods</h2>

<p>Public Methods are available to all
Non-callable inside or outside a class but can be interpolated
Protected methods act as public methods inside the class, therefore can be called but act as private methods outside of the class.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="kp">private</span>

<span class="k">def</span> <span class="nf">human_years</span>
    <span class="nb">self</span><span class="o">.</span><span class="n">age</span> <span class="o">/</span> <span class="no">DOG_YEARS</span>
<span class="k">end</span>

<span class="n">sparky</span> <span class="o">=</span> <span class="no">GoodDog</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Sparky&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">sparky</span><span class="o">.</span><span class="n">human_years</span></code></pre></div>

<p>We get the error message:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="ss">NoMethodError</span><span class="p">:</span> <span class="kp">private</span> <span class="nb">method</span> <span class="sb">`human_years&#39; called for</span>
<span class="sb">  #&lt;GoodDog:0x007f8f431441f8 @name=&quot;Sparky&quot;, @age=28&gt;</span></code></pre></div>

<p>We have made the human_years method private by placing it under the private reserved word. So what is it good for if we can&#39;t call it? private methods are only accessible from other methods in the class. For example, given the above code, the following would be allowed:</p>

<p>Assume the method definition below is above the &quot;private&quot; keyword</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">public_disclosure</span>
  <span class="s2">&quot;</span><span class="si">#{</span><span class="nb">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> in human years is </span><span class="si">#{</span><span class="n">human_years</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span></code></pre></div>

<p>Note that in this case, we can not use self.human<em>years, because the human</em>years method is private. Remember that self.human<em>years is equivalent to sparky.human</em>years, which is not allowed for private methods. Therefore, we have to just use human_years. In summary, private methods are not accessible outside of the class definition at all, and are only accessible from inside the class when called without self.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/09/11/tic-tac-toe-procedural/">
        Intro to Ruby & Web Dev: Tic-Tac-Toe Procedural Game
      </a>
    </h1>

    <span class="post-date">11 Sep 2014</span>

    <ol>
<li>Come up with requirements/specifications - that will determine your own scope.</li>
<li>Application logic, sequence of steps.</li>
<li>Translation of those steps into code.</li>
<li>Run code to verfiy logic.=end</li>
</ol>

<h1>Sequence of steps</h1>

<ol>
<li>Draw a board</li>
<li>Assign Player to &quot;x&quot;</li>
<li>Assign Computer to &quot;o&quot;
Loop until a winner or all squares are taken</li>
<li>Player 1 picks an empty square
Check for winner</li>
<li>Player 2 picks an empty square</li>
<li>Check for winner</li>
<li>If there is a winner, show winner; else &quot;It&#39;s a tie&quot;</li>
</ol>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">require</span> <span class="s1">&#39;pry&#39;</span>

<span class="c1">#create a way to allow players to input choice on tictactoe board, hash</span>
<span class="k">def</span> <span class="nf">initialize_board</span>
  <span class="n">b</span> <span class="o">=</span> <span class="p">{}</span>
  <span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">position</span><span class="o">|</span> <span class="n">b</span><span class="o">[</span><span class="n">position</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;  &#39;</span><span class="p">}</span>
  <span class="n">b</span>
<span class="k">end</span>

<span class="c1">#define board position where player/computer choice will go</span>
<span class="k">def</span> <span class="nf">draw_board</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
  <span class="nb">system</span> <span class="s1">&#39;clear&#39;</span>
  <span class="nb">puts</span> <span class="s2">&quot; </span><span class="si">#{</span><span class="n">b</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="si">}</span><span class="s2"> | </span><span class="si">#{</span><span class="n">b</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="si">}</span><span class="s2"> | </span><span class="si">#{</span><span class="n">b</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class="si">}</span><span class="s2"> &quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;--------------&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot; </span><span class="si">#{</span><span class="n">b</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span><span class="si">}</span><span class="s2"> | </span><span class="si">#{</span><span class="n">b</span><span class="o">[</span><span class="mi">5</span><span class="o">]</span><span class="si">}</span><span class="s2"> | </span><span class="si">#{</span><span class="n">b</span><span class="o">[</span><span class="mi">6</span><span class="o">]</span><span class="si">}</span><span class="s2"> &quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;--------------&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot; </span><span class="si">#{</span><span class="n">b</span><span class="o">[</span><span class="mi">7</span><span class="o">]</span><span class="si">}</span><span class="s2"> | </span><span class="si">#{</span><span class="n">b</span><span class="o">[</span><span class="mi">8</span><span class="o">]</span><span class="si">}</span><span class="s2"> | </span><span class="si">#{</span><span class="n">b</span><span class="o">[</span><span class="mi">9</span><span class="o">]</span><span class="si">}</span><span class="s2"> &quot;</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">empty_position</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
  <span class="n">b</span><span class="o">.</span><span class="n">select</span> <span class="p">{</span><span class="o">|</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="o">|</span> <span class="n">v</span> <span class="o">==</span> <span class="s1">&#39;  &#39;</span><span class="p">}</span><span class="o">.</span><span class="n">keys</span>

<span class="k">end</span>

<span class="k">def</span> <span class="nf">player_picks_square</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">&quot;Pick a square (1 - 9):&quot;</span>
  <span class="c1">#make sure your gets.chomp is getting the state that your hash key is</span>
  <span class="n">position</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span><span class="o">.</span><span class="n">to_i</span>
  <span class="n">b</span><span class="o">[</span><span class="n">position</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span>
  <span class="c1">#binding.pry</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">computer_picks_square</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
  <span class="n">position</span> <span class="o">=</span> <span class="n">empty_position</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">sample</span>
  <span class="n">b</span><span class="o">[</span><span class="n">position</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;o&#39;</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">check_winner</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">winning_lines</span> <span class="o">=</span> <span class="o">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="o">]]</span>
<span class="n">winning_lines</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">line</span><span class="o">|</span>
    <span class="k">if</span> <span class="n">b</span><span class="o">[</span><span class="n">line</span><span class="o">[</span><span class="mi">0</span><span class="o">]]</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span> <span class="ow">and</span> <span class="n">b</span><span class="o">[</span><span class="n">line</span><span class="o">[</span><span class="mi">1</span><span class="o">]]</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span> <span class="ow">and</span> <span class="n">b</span><span class="o">[</span><span class="n">line</span><span class="o">[</span><span class="mi">2</span><span class="o">]]</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span>
      <span class="k">return</span> <span class="s1">&#39;Player&#39;</span>
    <span class="k">elsif</span> <span class="n">b</span><span class="o">[</span><span class="n">line</span><span class="o">[</span><span class="mi">0</span><span class="o">]]</span> <span class="o">==</span> <span class="s1">&#39;o&#39;</span> <span class="ow">and</span> <span class="n">b</span><span class="o">[</span><span class="n">line</span><span class="o">[</span><span class="mi">1</span><span class="o">]]</span> <span class="o">==</span> <span class="s1">&#39;o&#39;</span> <span class="ow">and</span> <span class="n">b</span><span class="o">[</span><span class="n">line</span><span class="o">[</span><span class="mi">2</span><span class="o">]]</span> <span class="o">==</span> <span class="s1">&#39;o&#39;</span>
      <span class="k">return</span> <span class="s1">&#39;Computer&#39;</span>
    <span class="k">else</span>
      <span class="k">return</span> <span class="kp">nil</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="c1">#sets local variable b from the initialize method (inner_scope) equal to board, a variable defined in the outter scope</span>
<span class="n">board</span> <span class="o">=</span> <span class="n">initialize_board</span>
<span class="n">draw_board</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>


<span class="c1">#loop until</span>
<span class="k">begin</span>
  <span class="n">player_picks_square</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
  <span class="n">computer_picks_square</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
  <span class="n">draw_board</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
  <span class="n">winner</span> <span class="o">=</span> <span class="n">check_winner</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
<span class="k">end</span> <span class="k">until</span> <span class="n">winner</span> <span class="o">||</span> <span class="n">empty_position</span><span class="p">(</span><span class="n">board</span><span class="p">)</span><span class="o">.</span><span class="n">empty?</span>

<span class="k">if</span> <span class="n">winner</span>
  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">winner</span><span class="si">}</span><span class="s2"> won!&quot;</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s2">&quot;It&#39;s a tie!&quot;</span>
<span class="k">end</span></code></pre></div>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page19">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page17">Newer</a>
    
  
</div>
    </div>

  </body>
</html>
